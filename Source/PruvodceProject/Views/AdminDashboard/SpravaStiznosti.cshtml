@model List<StiznostiModel>
@{
    ViewData["Title"] = "Administrátorský panel";
}

<article>
    <section>
        <h2>Správa stížností</h2>
    </section>
    
    <section>
        <div> @*tabulka na správu uživatelů*@
            @foreach (StiznostiModel stiznost in Model)
            {
                <h2>@stiznost.Nadpis</h2>
                <p>Od uživatele: @stiznost.UzivatelMail</p>
                <p>Stížnost: @stiznost.Text</p>
                <p>Stav: @stiznost.Stav</p>
                <p>Odpověď administrátora: @stiznost.AdminOdpoved</p>

                <form action="/AdminDashboard/OdpovedetNaStiznost" method="post">
                    <label>Vaše odpověď</label><br />
                    <input required type="text" name="odpoved" placeholder="Odpověď..."><br />
                    <label>Nový stav</label><br />
                    <input type="text" name="stav" placeholder="Stav..."><br />
                    @* tohle je špatná praxe protože by někdo mohl změnit ID ale já věřím našim adminům *@
                    <input type="text" name="ID" value="@stiznost.Id" style="display:none" />
                    <button type="submit">Odeslat</button>
                </form>
                
                <p>------------------------------------------</p>
            }
        </div>
    </section>
</article>